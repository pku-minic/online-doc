# 3. SysY 语言

> 注: 本章内容部分取自[《SysY 语言定义》](https://gitlab.eduxiji.net/nscscc/docs/-/blob/master/SysY%E8%AF%AD%E8%A8%80%E5%AE%9A%E4%B9%89.pdf)以及[《SysY 运行时库》](https://gitlab.eduxiji.net/nscscc/docs/-/blob/master/SysY%E8%BF%90%E8%A1%8C%E6%97%B6%E5%BA%93.pdf), 在此基础上有所调整.

SysY 语言是本次课程要实现的编程语言, 它是 C 语言的一个子集. 每个 SysY 程序的源码存储在一个扩展名为 `sy` 的文件中. 该文件中有且仅有一个名为 `main` 的主函数定义, 此外, 文件还可以包含若干全局变量声明, 常量声明和其他函数定义.

SysY 语言本身没有提供输入/输出 (I/O) 的语言构造, I/O 是以运行时库方式提供的, 库函数可以在 SysY 的函数内调用. 有关在 SysY 程序中可以使用哪些库函数, 请参考 SysY 运行时库文档.

## 函数

SysY 语言中的函数可以带参数也可以不带参数, 参数的类型可以是 `int` 或者数组类型. 当函数参数为 `int` 类型时，参数按值传递; 而参数为数组类型时, 实际传递的参数是数组的起始地址.

函数可以返回 `int` 类型的值, 或者不返回值 (即声明为 `void` 类型).

函数体由若干变量/常量声明和其他语句组成.

## 变量/常量声明

SysY 语言支持 `int` 类型和元素为 `int` 类型且按行优先存储的多维数组类型, 其中 `int` 型整数为 32 位有符号数. `const` 修饰符用于声明常量.

SysY 支持在一个变量/常量声明语句中声明多个变量或常量, 声明时可以附带初始化表达式. 所有变量/常量要求先定义再使用. 在函数外声明的变量/常量被称为全局变量/常量, 而在函数内声明的为局部变量/常量.

## 语句

SysY 支持的语句包括赋值语句, 表达式语句, 语句块, `if` 语句, `while` 语句, `break` 语句, `continue` 语句和 `return` 语句. 语句块中可以包含若干变量/常量声明和其他的语句.

## 表达式

SysY 支持基本的算术运算 (`+`, `-`, `*`, `/`, `%`), 关系运算 (`==`, `!=`, `<`, `>`, `<=`, `>=`) 和逻辑运算 (`!`, `&&`, `||`).

在关系/逻辑运算中, 非 0 表示真, 0 表示假. 算符的优先级, 结合性以及计算规则 (**含逻辑运算的 “短路计算”**) 与 C 语言一致.
